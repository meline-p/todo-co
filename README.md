To Do & Co
========

## Description

ToDo & Co helps you organize your work and keep track of your tasks.

## Sommaire

- [Description](#description)
- [Installation](#installation)
- [Configuration](#configuration)
- [Database](#database)
- [Usage](#usage)
- [Cache](#cache)
- [Unit and Functional Tests](#unit-and-functional-tests)
- [Documentation](#documentation)

## Installation

1. Clone the repository:
    ```bash
    git clone git clone https://github.com/meline-p/todo-co.git
    cd todo-co
    ```

2. Install dependencies with Composer:
    ```bash
    composer install
    ```

3. Configure the environment by copying the .env file:
    ```bash
    cp .env .env.local
    ```

4. Configure the test environment by copying the .env.test file:
    ```bash
    cp .env .env.test.local
    ```

## Configuration

- `APP_SECRET` : Generate a random secret key
    ```bash
    php bin/console secrets:generate-keys
    ```
- `DATABASE_URL` : Database connection URL.

Ensure these parameters are configured in the `.env.local` and `.env.test.local` file.


## Database

1. Create and update the database: 
    ```bash
    php bin/console doctrine:database:create
    php bin/console doctrine:migrations:migrate
    php bin/console doctrine:schema:update --force
    ```

2. (Optional) Load test data:
    ```bash
    php bin/console doctrine:fixtures:load
    ```

## Usage

### Launch the website
Start the local server:
```bash
symfony serve -d
```

Access the application via your browser at http://localhost:8000.


## Cache

- This website uses `TagAwareCacheInterface` for cache management. To clear or invalidate the cache by tag, you can use the following command: 
    ```bash
    php bin/console cache:clear
    ```

- Or to invalidate a specific tag: 
    ```bash
    $cachePool->invalidateTags(['your_tag']);
    ```

## Unit and Functional Tests

1. Create and update the test database: 
    ```bash
    php bin/console doctrine:database:create --env=test
    php bin/console doctrine:migrations:migrate --env=test
    php bin/console doctrine:schema:update --force --env=test
    ```

2. Running Tests:
Unit and functional tests should be placed in the tests/ directory.

- Run all tests:
    ```bash
    php vendor/bin/phpunit
    ```

- Run a specific test:
    ```bash
    php vendor/bin/phpunit tests/Entity/TaskTest.php
    ```

- Generate test coverage report:
    ```bash
    php vendor/bin/phpunit --coverage-html public/test-coverage
    ```

## Documentation

### Website Documentation:

To generate documentation, use phpDocumentor.
You can download the latest PHAR file from https://phpdoc.org/phpDocumentor.phar and put it at the root of the project.
Execute this command:

```bsh
php phpDocumentor.phar run -d ./src -t docs/
```

Access the generated documentation in the docs/index.html directory. 
Launch Go Live on Visual Studio Code and access the online documentation in the docs directory.

### Collaboration Guide: How to Contribute to the Project:

This document outlines the quality process and rules that all developers must follow when making changes to the project.
It is available at the root of the project: `collaboration.md`.

### Code Coverage Report:

This report consists of HTML files generated by PHPUnit, indicating the application's code coverage level.
To generate new tests and a new coverage report:

```bsh
php vendor/bin/phpunit --coverage-html public/test-coverage
```
